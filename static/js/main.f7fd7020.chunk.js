(this.webpackJsonpmenu=this.webpackJsonpmenu||[]).push([[0],{21:function(e,t,a){e.exports=a(33)},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var o=a(0),s=a.n(o),n=a(19),r=a.n(n),l=(a(26),a(7)),c=a(8),i=a(3),m=a(10),d=a(9),u=a(14),p=a(1),v=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).state={id:o.props.content.id,title:o.props.content.title,source:o.props.content.source,cover:o.props.content.cover,textColor:o.props.content.textColor,postColor:o.props.content.postColor,views:o.props.content.views,comms:o.props.content.comms,reps:o.props.content.reps,likes:o.props.content.likes},o}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.content,t="";if(e.title){var a=e.title;t=a.length>200?a.substring(0,200)+"...":a}var o=s.a.createElement("div",{className:"postView card",style:{backgroundColor:e.postColor}},s.a.createElement("div",{className:"postHeader"},s.a.createElement("div",{className:"postViews"},s.a.createElement("i",{className:"fas fa-eye"}),"  ",e.views),s.a.createElement("button",{className:"postReadBtn"},s.a.createElement("a",{style:{textDecoration:"none",color:"white"},href:e.source},"\u0447\u0438\u0442\u0430\u0442\u044c"))),t.length?s.a.createElement("div",{className:"postTitle",style:{color:e.textColor}},t):"",e.cover?s.a.createElement("a",{className:"linkStyle",href:e.source},s.a.createElement("img",{className:"postCover",src:e.cover,alt:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0438"})):"",s.a.createElement("div",{className:"postFooter"},s.a.createElement("div",{className:"postCounts"},s.a.createElement("i",{className:"fas fa-heart"})," ",e.likes),s.a.createElement("div",{className:"postCounts"},s.a.createElement("i",{className:"fas fa-comment"})," ",e.comms),s.a.createElement("div",{className:"postCounts"},s.a.createElement("i",{className:"fas fa-reply"})," ",e.reps)));return s.a.createElement("div",null,o)}}]),a}(s.a.Component),h=window.VK,E=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).state={posts:[],colors:[],postsLoad:!0},o.postColors=["#FFA69E","#74F2CE","#7EE8FA","#E899DC","#FFAC81","#F7B42C","#ABE9CD","#F8CEEC","#FFD8C","#B0F3F1","#DAD2F3","#F3E6E8","#D5FEFD","#DCF8EF","#7DDFF8","#B9D1EB","#A1BAFE","#E1D4E6","#FFA69E","#00BFB2","#FF4081","#A29BFE","#7ED6DF","#48DBFB","#FF6B6B"],o.getPosts=o.getPosts.bind(Object(i.a)(o)),o.getRandom=o.getRandom.bind(Object(i.a)(o)),o.getBestPhoto=o.getBestPhoto.bind(Object(i.a)(o)),o.loadPosts=o.loadPosts.bind(Object(i.a)(o)),o.goTo=o.goTo.bind(Object(i.a)(o)),o}return Object(c.a)(a,[{key:"goTo",value:function(e){document.getElementById(e).scrollIntoView({block:"start",behavior:"smooth"})}},{key:"componentDidMount",value:function(){this.loadPosts()}},{key:"loadPosts",value:function(){var e=this,t=[];h.Api.call("wall.get",{owner_id:"-173711218",offset:1,count:40,v:"5.73"},(function(a){a.response&&(console.log(a.response.items),t=a.response.items.map((function(a){if(!a.copy_history&&!a.marked_as_ads){var o=e.getRandom(0,e.postColors.length-1),s=e.postColors[o],n=e.getBestPhoto(a),r={title:a.text,postColor:s,textColor:"rgba(0, 0, 0, 0.8)",id:"".concat(a.id),source:"https://vk.com/wall".concat(a.owner_id,"_").concat(a.id),cover:n,views:a.views.count,likes:a.likes.count,comms:a.comments.count,reps:a.reposts.count,video:!1};t.push(r),e.setState({posts:t,postsLoad:!1})}})))}))}},{key:"getBestPhoto",value:function(e){var t="",a="",o=[];if(e.attachments&&e.attachments[0]&&e.attachments[0].photo){for(var s in e.attachments[0].photo)if(~s.indexOf("photo_")){var n=s.substring(6);o.push(n)}t="photo_"+Math.max.apply(null,o),a=e.attachments[0].photo[t]}return a}},{key:"getRandom",value:function(e,t){var a=e-.5+Math.random()*(t-e+1);return Math.round(a)}},{key:"getPostsFromStorage",value:function(e){var t=this,a=indexedDB.open(e.store,1);a.onupgradeneeded=function(){var t=a.result;t.objectStoreNames.contains(e.store)||t.createObjectStore(e.store)},a.onerror=function(){console.error("Can't create DB",a.error)},a.onsuccess=function(){var o=a.result.transaction(e.store,"readonly"),s=o.objectStore(e.store).get(e.key);o.oncomplete=function(){s.result&&t.setState({savedPosts:s.result})}}}},{key:"getPosts",value:function(){var e=this;return this.state.posts.map((function(t,a){return s.a.createElement(v,{key:t.title+a,content:t,onPostSave:e.savePost,onPostDelete:e.deletePost})}))}},{key:"render",value:function(){for(var e=this,t=this.state.posts&&this.getPosts(),a=this.state.postsLoad?s.a.createElement("div",{className:"spinner-border",role:"status"}):s.a.createElement("div",{style:{float:"right"},onClick:this.loadPosts},s.a.createElement("i",{className:"fas fa-redo"})),o=[],n=[],r=0;r<t.length;r++)r%2!==0?o.push(t[r]):n.push(t[r]);return s.a.createElement("div",null,s.a.createElement("div",{className:"pageHint",id:"Home"},"\u043c\u0435\u043d\u044e \u0433\u0440\u0443\u043f\u043f\u044b"),s.a.createElement("div",{className:"row mt-4 mb-2"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"icon","data-toggle":"modal","data-target":"#aboutModal"},s.a.createElement("i",{className:"fas fa-info-circle"}),s.a.createElement("span",{className:"iconTitle"},"\u043e \u0433\u0440\u0443\u043f\u043f\u0435"))),s.a.createElement("div",{className:"col"},s.a.createElement("a",{href:"https://vk.com/app5748831_-173711218",className:"linkStyle"},s.a.createElement("div",{className:"icon"},s.a.createElement("i",{className:"fas fa-paper-plane"}),s.a.createElement("span",{className:"iconTitle"},"\u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0430")))),s.a.createElement("div",{className:"col"},s.a.createElement("a",{href:"https://vk.com/app5727453_-173711218",className:"linkStyle"},s.a.createElement("div",{className:"icon"},s.a.createElement("i",{className:"fas fa-cookie-bite"}),s.a.createElement("span",{className:"iconTitle"},"\u043f\u043e\u0436\u0435\u0440\u0442\u0432\u043e\u0432\u0430\u0442\u044c"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"btnsTitle"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 ",a),s.a.createElement("div",{className:"row mt-2 mb-3"},s.a.createElement("div",{className:"col"},o),s.a.createElement("div",{className:"col"},n)),this.state.postsLoad?"":s.a.createElement("button",{className:"loadMoreBtn",onClick:function(t){return e.goTo("Home",t)}},"\u043d\u0430\u0432\u0435\u0440\u0445"),s.a.createElement("br",null))}}]),a}(s.a.Component),b=(a(27),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).state={posts:[]},o.getPostsFromStorage=o.getPostsFromStorage.bind(Object(i.a)(o)),o.setPosts=o.setPosts.bind(Object(i.a)(o)),o.deletePost=o.deletePost.bind(Object(i.a)(o)),o.savePost=o.savePost.bind(Object(i.a)(o)),o.updateDB=o.updateDB.bind(Object(i.a)(o)),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getPostsFromStorage({store:"may-app",key:"bookmarks"}),this.props.onTurnBar(!1)}},{key:"componentWillUnmount",value:function(){this.props.onTurnBar(!0)}},{key:"getPostsFromStorage",value:function(e){var t=this,a=indexedDB.open(e.store,1);a.onupgradeneeded=function(){var t=a.result;t.objectStoreNames.contains(e.store)||t.createObjectStore(e.store)},a.onerror=function(){console.error("Can't create DB",a.error)},a.onsuccess=function(){var o=a.result.transaction(e.store,"readonly"),s=o.objectStore(e.store).get(e.key);o.oncomplete=function(){s.result&&t.setState({posts:s.result})}}}},{key:"savePost",value:function(e){var t=this,a=this.state.posts;a.push(e),this.setState({savedPosts:a},(function(){var e={store:"may-app",key:"bookmarks",data:t.state.posts};t.updateDB(e)}))}},{key:"deletePost",value:function(e){var t,a=this,o=this.state.posts;o&&~(t=o.findIndex((function(t){return e===t.id})))&&(o.splice(t,1),this.setState({savedPosts:o},(function(){var e={store:"may-app",key:"bookmarks",data:a.state.posts};a.updateDB(e)})))}},{key:"setPosts",value:function(){var e=this,t=this.state.posts;return t.map((function(a){return s.a.createElement(v,{key:a.id,content:a,savedPosts:t,onPostSave:e.savePost,onPostDelete:e.deletePost})}))}},{key:"updateDB",value:function(e){var t=indexedDB.open(e.store,1);t.onupgradeneeded=function(){var a=t.result;a.objectStoreNames.contains(e.store)||a.createObjectStore(e.store)},t.onerror=function(){console.error("Can't create DB",t.error)},t.onsuccess=function(){t.result.transaction(e.store,"readwrite").objectStore(e.store).put(e.data,e.key)}}},{key:"render",value:function(){var e=this.setPosts(),t=e.length?e:s.a.createElement("div",{className:"pageHint"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u043f\u0443\u0441\u0442",s.a.createElement("br",null),s.a.createElement("div",{style:{fontSize:"50px"}},s.a.createElement("i",{className:"fas fa-bookmark"})));return s.a.createElement("div",null,t)}}]),a}(s.a.Component)),f=window.VK,g=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).state={},o.VkAuth=o.VkAuth.bind(Object(i.a)(o)),o}return Object(c.a)(a,[{key:"VkAuth",value:function(){var e=this;f.Auth.login((function(t){t.session?(console.log("success"),e.props.onAuth(!0)):console.log("canceled")}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"textPage"},"\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u0447\u0435\u0440\u0435\u0437 \u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",s.a.createElement("br",null),s.a.createElement("button",{className:"btnMain",onClick:this.VkAuth},s.a.createElement("span",{style:{color:"rgba(0, 0, 0, 0.9)"}},s.a.createElement("i",{class:"fab fa-vk"})," ","\u0432\u043e\u0439\u0442\u0438"))))}}]),a}(s.a.Component),k=window.VK,N=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).state={isAuth:!1},o.setAuth=o.setAuth.bind(Object(i.a)(o)),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;k.Auth.getLoginStatus((function(t){"connected"===t.status&&e.setState({isAuth:!0})}))}},{key:"setAuth",value:function(e){this.setState({isAuth:e})}},{key:"render",value:function(){var e=this.state.isAuth?s.a.createElement(u.a,null,s.a.createElement(p.c,null,s.a.createElement(p.a,{exact:!0,path:"/"},s.a.createElement(E,null)),s.a.createElement(p.a,{path:"/bookmarks"},s.a.createElement(b,{onTurnBar:this.turnBar})))):s.a.createElement(g,{onAuth:this.setAuth});return s.a.createElement("div",null,s.a.createElement("div",{className:"modal fade",id:"infoModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"centeredText"},"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e \u0432",s.a.createElement("br",null),s.a.createElement("a",{className:"linkStyle",href:"https://vk.com/warmay_studio"},s.a.createElement("b",null,"\u041c\u0430\u0439-\u0441\u0442\u0443\u0434\u0438\u0438"))))))),s.a.createElement("div",{className:"modal fade",id:"aboutModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"\u041e \u0433\u0440\u0443\u043f\u043f\u0435"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},"\u0421\u0430\u043c\u044b\u0439 \u043b\u0443\u0447\u0448\u0438\u0439 \u043f\u0430\u0431\u043b\u0438\u043a \u043e \u043c\u0443\u043b\u044c\u0442\u0444\u0438\u043b\u044c\u043c\u0430\u0445")))),s.a.createElement("img",{className:"background",src:"https://wallpaperaccess.com/full/2028393.jpg",alt:"background"}),s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"headerLineTop"},"\u0434\u0438\u0441\u043d\u0435\u0439 \u0433\u043e\u043b\u043e\u0432\u043d\u043e\u0433\u043e \u043c\u043e\u0437\u0433\u0430"),s.a.createElement("div",{className:"headerLineBot"},s.a.createElement("a",{className:"linkStyle",href:"https://vk.com/magic_page"},s.a.createElement("div",{className:"btnInfo"},s.a.createElement("i",{className:"fas fa-home"})," \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"))),s.a.createElement("div",{className:"headerLeft"}),s.a.createElement("div",{className:"headerRight"}),s.a.createElement("div",{className:"header"}),s.a.createElement("div",{className:"body"},e),s.a.createElement("div",{type:"button",className:"footer","data-toggle":"modal","data-target":"#infoModal"},"\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438")))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.f7fd7020.chunk.js.map